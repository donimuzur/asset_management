{% extends 'base.html.twig' %}

{% block title %}Edit Asset kendaraan Mobil{% endblock %}
{% set HeaderTitle = 'Asset Kendaraan Mobil' %}
{% set FormTitle =  'Edit Asset Kendaraan Mobil'%}
{% set description = 'Edit Asset Kendaraan Mobil ' %}
{% set labelBreadcrumb = 'Edit' %}

{% block body %}
  {{ include('asset_kendaraan_mobil/_form.html.twig', {'button_label': 'Update'}) }}
  {{ include('asset_kendaraan_mobil/_listComponent.html.twig') }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    
    <script>
        $("#frmSubmit").validate({
            ignore: [],
            errorClass: "invalid-feedback animated fadeInDown",
            errorElement: "div",
            errorPlacement: function (e, r) {
                jQuery(r).parents(".form-group").append(e);
            },
            highlight: function (e) {
                jQuery(e).closest(".form-group").removeClass("is-invalid").addClass("is-invalid");
                HideHeaderLoader();
            },
            success: function (e) {
                jQuery(e).closest(".form-group").removeClass("is-invalid"), jQuery(e).remove();
            },
            rules: {
                "asset_kendaraan_motor[PoliceNumber]": { required: true, minlength: 3 },
                "asset_kendaraan_motor[Status]": { required: true},
            },
            messages: {
                "asset_kendaraan_motor[PoliceNumber]": { required: "Field ini mandatory", minlength: "minimal 3 character" },
                "asset_kendaraan_motor[Status]": { required: "Field ini mandatory"},
            },
        });
          // Add a emergency contact
        $('#btnAddAttachment').click(function() {
            console.log('tekan');
          
            $('#ufile').removeAttr("disabled");
            $('#attachmentActions').hide();
            $('#addPaneAttachments').show();
            
            $("table#tblAttachments label.checkboxAtch").hide();
            $("table#tblAttachments row.editLink").hide();

            window.location.hash = '#addPaneAttachments';
        });

        
        $('#btnCancelAttachment').click(function() {
            $('#addPaneAttachments').hide();
            $('#attachmentActions').show();
            $('#ufile').val('');
            $('#attachmentList').show();
            $("table#tblAttachments label.checkboxAtch").show();
            $("table#tblAttachments row.editLink").show();            
        });
        

        $("#checkAll").click(function(){
            if($("#checkAll:checked").length > 0) {
                $(".checkbox").prop('checked', true);
            } else {
                $(".checkbox").prop('checked', false);
            }
        });

        $(".checkbox").click(function() {
            $("#checkAll").prop('checked', false);
            if(($(".checkbox").length) == $(".checkbox:checked").length) {
                $("#checkAll").prop('checked', true);
            }
            
        });
    </script>
{% endblock %}